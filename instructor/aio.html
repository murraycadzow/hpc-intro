<!DOCTYPE html>
<!-- START: inst/pkgdown/templates/layout.html --><!-- Generated by pkgdown: do not edit by hand --><html lang="en" data-bs-theme="auto">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<title>Introduction to High-Performance Computing: All in One View</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="../assets/themetoggle.js"></script><link rel="stylesheet" type="text/css" href="../assets/styles.css">
<script src="../assets/scripts.js" type="text/javascript"></script><!-- mathjax --><script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      config: ["MMLorHTML.js"],
      jax: ["input/TeX","input/MathML","output/HTML-CSS","output/NativeMML", "output/PreviewHTML"],
      extensions: ["tex2jax.js","mml2jax.js","MathMenu.js","MathZoom.js", "fast-preview.js", "AssistiveMML.js", "a11y/accessibility-menu.js"],
      TeX: {
        extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
      },
      tex2jax: {
        inlineMath: [['\\(', '\\)']],
        displayMath: [ ['$$','$$'], ['\\[', '\\]'] ],
        processEscapes: true
      }
    });
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><!-- Responsive Favicon for The Carpentries --><link rel="apple-touch-icon" sizes="180x180" href="../favicons/incubator/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicons/incubator/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="../favicons/incubator/favicon-16x16.png">
<link rel="manifest" href="../favicons/incubator/site.webmanifest">
<link rel="mask-icon" href="../favicons/incubator/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" media="(prefers-color-scheme: light)" content="white">
<meta name="theme-color" media="(prefers-color-scheme: dark)" content="black">
</head>
<body>
    <header id="top" class="navbar navbar-expand-md top-nav incubator"><svg xmlns="http://www.w3.org/2000/svg" class="d-none"><symbol id="check2" viewbox="0 0 16 16"><path d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"></path></symbol><symbol id="circle-half" viewbox="0 0 16 16"><path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z"></path></symbol><symbol id="moon-stars-fill" viewbox="0 0 16 16"><path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"></path><path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"></path></symbol><symbol id="sun-fill" viewbox="0 0 16 16"><path d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"></path></symbol></svg><a class="visually-hidden-focusable skip-link" href="#main-content">Skip to main content</a>
  <div class="container-fluid top-nav-container">
    <div class="col-md-8">
      <div class="large-logo">
        <img id="incubator-logo" alt="Lesson Description" src="../assets/images/incubator-logo.svg"><span class="badge text-bg-warning">
          <abbr title="This lesson is in the alpha phase, which means that it has been taught once and lesson authors are iterating on feedback.">
            <a href="https://cdh.carpentries.org/the-lesson-life-cycle.html#field-testing-alpha-stage" class="external-link alert-link">
              <i aria-hidden="true" class="icon" data-feather="alert-triangle" style="border-radius: 5px"></i>
              Alpha
            </a>
            <span class="visually-hidden">This lesson is in the alpha phase, which means that it has been taught once and lesson authors are iterating on feedback.</span>
          </abbr>
        </span>

      </div>
    </div>
    <div class="selector-container">
      <div id="theme-selector">
        <li class="nav-item dropdown" id="theme-button-list">
          <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
            <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="bd-theme-text">
<li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                Light
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                Dark
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                Auto
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
          </ul>
</li>
      </div>

      <div class="dropdown" id="instructor-dropdown">
        <button class="btn btn-secondary dropdown-toggle bordered-button" type="button" id="dropdownMenu1" data-bs-toggle="dropdown" aria-expanded="false">
          <i aria-hidden="true" class="icon" data-feather="eye"></i> Instructor View <i data-feather="chevron-down"></i>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
<li><button class="dropdown-item" type="button" onclick="window.location.href='../aio.html';">Learner View</button></li>
        </ul>
</div>
    </div>
  </div>
  <hr></header><nav class="navbar navbar-expand-xl bottom-nav incubator" aria-label="Main Navigation"><div class="container-fluid nav-container">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle Navigation">
      <span class="navbar-toggler-icon"></span>
      <span class="menu-title">Menu</span>
    </button>
    <div class="nav-logo">
      <img class="small-logo" alt="Lesson Description" src="../assets/images/incubator-logo-sm.svg">
</div>
    <div class="lesson-title-md">
      Introduction to High-Performance Computing
    </div>
    <div class="search-icon-sm">
      <!-- TODO: do not show until we have search
        <i role="img" aria-label="Search the All In One page" data-feather="search"></i>
      -->
    </div>
    <div class="desktop-nav">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
<li class="nav-item">
          <span class="lesson-title">
            Introduction to High-Performance Computing
          </span>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/key-points.html">Key Points</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/instructor-notes.html">Instructor Notes</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/images.html">Extract All Images</a>
        </li>
        <li class="nav-item dropdown">
          <button class="nav-link dropdown-toggle" id="navbarDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            More <i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
<hr>
<li><a class="dropdown-item" href="reference.html">Reference</a></li>
          </ul>
</li>
      </ul>
</div>
    <!--
    <form class="d-flex col-md-2 search-form">
      <fieldset disabled>
      <input class="form-control me-2 searchbox" type="search" placeholder="" aria-label="">
        <button class="btn btn-outline-success tablet-search-button"  type="submit">
          <i class="search-icon" data-feather="search" role="img" aria-label="Search the All In One page"></i>
        </button>
      </fieldset>
    </form>
    -->
    <a id="search-button" class="btn btn-primary" href="../instructor/aio.html" role="button" aria-label="Search the All In One page">Search the All In One page</a>
  </div>
<!--/div.container-fluid -->
</nav><div class="col-md-12 mobile-title">
  Introduction to High-Performance Computing
</div>

<aside class="col-md-12 lesson-progress"><div style="width: %" class="percentage">
    %
  </div>
  <div class="progress incubator">
    <div class="progress-bar incubator" role="progressbar" style="width: %" aria-valuenow="" aria-label="Lesson Progress" aria-valuemin="0" aria-valuemax="100">
    </div>
  </div>
</aside><div class="container">
      <div class="row">
        <!-- START: inst/pkgdown/templates/navbar.html -->
<div id="sidebar-col" class="col-lg-4">
  <div id="sidebar" class="sidebar">
      <nav aria-labelledby="flush-headingEleven"><button role="button" aria-label="close menu" alt="close menu" aria-expanded="true" aria-controls="sidebar" class="collapse-toggle" data-collapse="Collapse " data-episodes="Episodes ">
          <i class="search-icon" data-feather="x" role="img"></i>
        </button>
        <div class="sidebar-inner">
          <div class="row mobile-row" id="theme-row-mobile">
            <div class="col" id="theme-selector">
              <li class="nav-item dropdown" id="theme-button-list">
                <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
                  <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><span class="d-lg-none ms-1" id="bd-theme-text">Toggle Theme</span>
                </button>
                <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="bd-theme-text">
<li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                      Light
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                      Dark
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                      <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                      Auto
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                </ul>
</li>
            </div>
          </div>
          <div class="row mobile-row">
            <div class="col">
              <div class="sidenav-view-selector">
                <div class="accordion accordion-flush" id="accordionFlush9">
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingNine">
                      <button class="accordion-button collapsed" id="instructor" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseNine" aria-expanded="false" aria-controls="flush-collapseNine">
                        <i id="eye" aria-hidden="true" class="icon" data-feather="eye"></i> Instructor View
                      </button>
                    </h2>
                    <div id="flush-collapseNine" class="accordion-collapse collapse" aria-labelledby="flush-headingNine" data-bs-parent="#accordionFlush2">
                      <div class="accordion-body">
                        <a href="../aio.html">Learner View</a>
                      </div>
                    </div>
                  </div>
<!--/div.accordion-item-->
                </div>
<!--/div.accordion-flush-->
              </div>
<!--div.sidenav-view-selector -->
            </div>
<!--/div.col -->

            <hr>
</div>
<!--/div.mobile-row -->

          <div class="accordion accordion-flush" id="accordionFlush11">
            <div class="accordion-item">

              <button id="chapters" class="accordion-button show" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseEleven" aria-expanded="false" aria-controls="flush-collapseEleven">
                <h2 class="accordion-header chapters" id="flush-headingEleven">
                  EPISODES
                </h2>
              </button>
              <div id="flush-collapseEleven" class="accordion-collapse show collapse" aria-labelledby="flush-headingEleven" data-bs-parent="#accordionFlush11">

                <div class="accordion-body">
                  <div class="accordion accordion-flush" id="accordionFlush1">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading1">
        <a href="index.html">Summary and Schedule</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush2">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading2">
        <a href="10-hpc-intro.html">1. Why use a Cluster?</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush3">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading3">
        <a href="11-connecting.html">2. Connecting to a remote HPC system</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush4">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading4">
        <a href="12-cluster.html">3. Exploring Remote Resources</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush5">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading5">
        <a href="13-scheduler.html">4. Scheduler Fundamentals</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

                </div>
              </div>
            </div>

            <hr class="half-width">
<div class="accordion accordion-flush lesson-resources" id="accordionFlush12">
              <div class="accordion-item">
                <h2 class="accordion-header" id="flush-headingTwelve">
                  <button class="accordion-button collapsed" id="lesson-resources" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwelve" aria-expanded="false" aria-controls="flush-collapseTwelve">
                    RESOURCES
                  </button>
                </h2>
                <div id="flush-collapseTwelve" class="accordion-collapse collapse" aria-labelledby="flush-headingTwelve" data-bs-parent="#accordionFlush12">
                  <div class="accordion-body">
                    <ul>
<li>
                        <a href="../instructor/key-points.html">Key Points</a>
                      </li>
                      <li>
                        <a href="../instructor/instructor-notes.html">Instructor Notes</a>
                      </li>
                      <li>
                        <a href="../instructor/images.html">Extract All Images</a>
                      </li>
                      <hr>
<li><a class="dropdown-item" href="reference.html">Reference</a></li>
                    </ul>
</div>
                </div>
              </div>
            </div>
            <hr class="half-width lesson-resources">
<a href="../instructor/aio.html">See all in one page</a>


            <hr class="d-none d-sm-block d-md-none">
<div class="d-grid gap-1">

            </div>
          </div>
<!-- /div.accordion -->
        </div>
<!-- /div.sidebar-inner -->
      </nav>
</div>
<!-- /div.sidebar -->
  </div>
<!-- /div.sidebar-col -->
<!-- END:   inst/pkgdown/templates/navbar.html-->

        <!-- START: inst/pkgdown/templates/content-extra.html -->
  <div class="col-xl-8 col-lg-12 primary-content">
    <main id="main-content" class="main-content"><div class="container lesson-content">
        
        
<section id="aio-10-hpc-intro"><p>Content from <a href="10-hpc-intro.html">Why use a Cluster?</a></p>
<hr>
<p>Last updated on 2025-03-17 |

        <a href="https://github.com/carpentries-incubator/hpc-intro/edit/main/episodes/10-hpc-intro.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Estimated time: <i aria-hidden="true" data-feather="clock"></i> 20 minutes</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>“Why would I be interested in High Performance Computing
(HPC)?”</li>
<li>“What can I expect to learn from this course?”</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>“Describe what an HPC system is”</li>
<li>“Identify how an HPC system could benefit you.”</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<p>
Materials licensed under
<a href="%7B%7B#site%7D%7D%7B%7Broot%7D%7D%7B%7B/site%7D%7DLICENSE.html">{{license}}</a> by the
authors
</p>
<p>{{/license}}{{/yaml}}</p>
<p>Frequently, research problems that use computing can outgrow the
capabilities of the desktop or laptop computer where they started:</p>
<ul>
<li>A statistics student wants to cross-validate a model. This involves
running the model 1000 times – but each run takes an hour. Running the
model on a laptop will take over a month! In this research problem,
final results are calculated after all 1000 models have run, but
typically only one model is run at a time (in <strong>serial</strong>)
on the laptop. Since each of the 1000 runs is independent of all others,
and given enough computers, it’s theoretically possible to run them all
at once (in <strong>parallel</strong>).</li>
<li>A genomics researcher has been using small datasets of sequence
data, but soon will be receiving a new type of sequencing data that is
10 times as large. It’s already challenging to open the datasets on a
computer – analyzing these larger datasets will probably crash it. In
this research problem, the calculations required might be impossible to
parallelize, but a computer with <strong>more memory</strong> would be
required to analyze the much larger future data set.</li>
<li>An engineer is using a fluid dynamics package that has an option to
run in parallel. So far, this option was not used on a desktop. In going
from 2D to 3D simulations, the simulation time has more than tripled. It
might be useful to take advantage of that option or feature. In this
research problem, the calculations in each region of the simulation are
largely independent of calculations in other regions of the simulation.
It’s possible to run each region’s calculations simultaneously (in
<strong>parallel</strong>), communicate selected results to adjacent
regions as needed, and repeat the calculations to converge on a final
set of results. In moving from a 2D to a 3D model, <strong>both the
amount of data and the amount of calculations increases
greatly</strong>, and it’s theoretically possible to distribute the
calculations across multiple computers communicating over a shared
network.</li>
</ul>
<p>In all these cases, access to more (and larger) computers is needed.
Those computers should be usable at the same time, <strong>solving many
researchers’ problems in parallel</strong>.</p>
<section><h2 class="section-heading" id="jargon-busting-presentation">Jargon Busting Presentation<a class="anchor" aria-label="anchor" href="#jargon-busting-presentation"></a>
</h2>
<hr class="half-width">
<p>Open the <a href="../%7B%7B%20site.url%20%7D%7D%7B%7B%20site.baseurl%20%7D%7D/files/jargon.html#p1">HPC
Jargon Buster</a> in a new tab. To present the content, press
<code>C</code> to open a <strong>c</strong>lone in a separate window,
then press <code>P</code> to toggle <strong>p</strong>resentation
mode.</p>
<div id="ive-never-used-a-server-have-i" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="ive-never-used-a-server-have-i" class="callout-inner">
<h3 class="callout-title">I’ve Never Used a Server, Have I?</h3>
<div class="callout-content">
<p>Take a minute and think about which of your daily interactions with a
computer may require a remote server or even cluster to provide you with
results.</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1">
  Some Ideas
  </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" aria-labelledby="headingSolution1" data-bs-parent="#accordionSolution1">
<div class="accordion-body">
<ul>
<li>Checking email: your computer (possibly in your pocket) contacts a
remote machine, authenticates, and downloads a list of new messages; it
also uploads changes to message status, such as whether you read, marked
as junk, or deleted the message. Since yours is not the only account,
the mail server is probably one of many in a data center.</li>
<li>Searching for a phrase online involves comparing your search term
against a massive database of all known sites, looking for matches. This
“query” operation can be straightforward, but building that database is
a <a href="https://en.wikipedia.org/wiki/MapReduce" class="external-link">monumental task</a>!
Servers are involved at every step.</li>
<li>Searching for directions on a mapping website involves connecting
your
<ol style="list-style-type: upper-alpha">
<li>starting and (B) end points by <a href="https://en.wikipedia.org/wiki/Dijkstra%27s_algorithm" class="external-link">traversing a
graph</a> in search of the “shortest” path by distance, time, expense,
or another metric. Converting a map into the right form is relatively
simple, but calculating all the possible routes between A and B is
expensive.</li>
</ol>
</li>
</ul>
<p>Checking email could be serial: your machine connects to one server
and exchanges data. Searching by querying the database for your search
term (or endpoints) could also be serial, in that one machine receives
your query and returns the result. However, assembling and storing the
full database is far beyond the capability of any one machine.
Therefore, these functions are served in parallel by a large, <a href="https://en.wikipedia.org/wiki/Hyperscale_computing" class="external-link">“hyperscale”</a>
collection of servers working together.</p>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul>
<li>“High Performance Computing (HPC) typically involves connecting to
very large computing systems elsewhere in the world.”</li>
<li>“These other systems can be used to do work that would either be
impossible or much slower on smaller systems.”</li>
<li>“HPC resources are shared by multiple users.”</li>
<li>“The standard method of interacting with such systems is via a
command line interface.”</li>
</ul>
</div>
</div>
</div>
<p>{% include links.md %}</p>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</section></section><section id="aio-11-connecting"><p>Content from <a href="11-connecting.html">Connecting to a remote HPC system</a></p>
<hr>
<p>Last updated on 2025-03-17 |

        <a href="https://github.com/carpentries-incubator/hpc-intro/edit/main/episodes/11-connecting.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Estimated time: <i aria-hidden="true" data-feather="clock"></i> 35 minutes</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>“How do I log in to a remote HPC system?”</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>“Configure secure access to a remote HPC system.”</li>
<li>“Connect to a remote HPC system.”</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="secure-connections">Secure Connections<a class="anchor" aria-label="anchor" href="#secure-connections"></a>
</h2>
<hr class="half-width">
<p>The first step in using a cluster is to establish a connection from
our laptop to the cluster. When we are sitting at a computer (or
standing, or holding it in our hands or on our wrists), we have come to
expect a visual display with icons, widgets, and perhaps some windows or
applications: a <em>graphical user interface</em>, or GUI. Since
computer clusters are remote resources that we connect to over slow or
intermittent interfaces (WiFi and VPNs especially), it is more practical
to use a <em>command-line interface</em>, or CLI, to send commands as
plain-text. If a command returns output, it is printed as plain text as
well. The commands we run today will not open a window to show graphical
results.</p>
<p>If you have ever opened the Windows Command Prompt or macOS Terminal,
you have seen a CLI. If you have already taken The Carpentries’ courses
on the UNIX Shell or Version Control, you have used the CLI on your
<em>local machine</em> extensively. The only leap to be made here is to
open a CLI on a <em>remote machine</em>, while taking some precautions
so that other folks on the network can’t see (or change) the commands
you’re running or the results the remote machine sends back. We will use
the Secure SHell protocol (or SSH) to open an encrypted network
connection between two machines, allowing you to send &amp; receive text
and data without having to worry about prying eyes.</p>
<p>{% include figure.html url=“” max-width=“50%”
file=“/fig/connect-to-remote.svg” alt=“Connect to cluster” caption=“”
%}</p>
<p>SSH clients are usually command-line tools, where you provide the
remote machine address as the only required argument. If your username
on the remote system differs from what you use locally, you must provide
that as well. If your SSH client has a graphical front-end, such as
PuTTY or MobaXterm, you will set these arguments before clicking
“connect.” From the terminal, you’ll write something like
<code>ssh userName@hostname</code>, where the argument is just like an
email address: the “@” symbol is used to separate the personal ID from
the address of the remote machine.</p>
<p>When logging in to a laptop, tablet, or other personal device, a
username, password, or pattern are normally required to prevent
unauthorized access. In these situations, the likelihood of somebody
else intercepting your password is low, since logging your keystrokes
requires a malicious exploit or physical access. For systems like {{
site.remote.host }} running an SSH server, anybody on the network can
log in, or try to. Since usernames are often public or easy to guess,
your password is often the weakest link in the security chain. Many
clusters therefore forbid password-based login, requiring instead that
you generate and configure a public-private key pair with a much
stronger password. Even if your cluster does not require it, the next
section will guide you through the use of SSH keys and an SSH agent to
both strengthen your security <em>and</em> make it more convenient to
log in to remote systems.</p>
<div class="section level3">
<h3 id="better-security-with-ssh-keys">Better Security With SSH Keys<a class="anchor" aria-label="anchor" href="#better-security-with-ssh-keys"></a>
</h3>
<p>The <a href="../%7B%7B%20page.root%20%7D%7D/setup">Lesson Setup</a>
provides instructions for installing a shell application with SSH. If
you have not done so already, please open that shell application with a
Unix-like command line interface to your system.</p>
<p>SSH keys are an alternative method for authentication to obtain
access to remote computing systems. They can also be used for
authentication when transferring files or for accessing remote version
control systems (such as <a href="https://docs.github.com/en/authentication/connecting-to-github-with-ssh" class="external-link">GitHub</a>).
In this section you will create a pair of SSH keys:</p>
<ul>
<li>a private key which you keep on your own computer, and</li>
<li>a public key which can be placed on any remote system you will
access.</li>
</ul>
<div id="private-keys-are-your-secure-digital-passport" class="callout caution">
<div class="callout-square">
<i class="callout-icon" data-feather="alert-triangle"></i>
</div>
<div id="private-keys-are-your-secure-digital-passport" class="callout-inner">
<h3 class="callout-title">Private keys are your secure digital passport</h3>
<div class="callout-content">
<p>A private key that is visible to anyone but you should be considered
compromised, and must be destroyed. This includes having improper
permissions on the directory it (or a copy) is stored in, traversing any
network that is not secure (encrypted), attachment on unencrypted email,
and even displaying the key on your terminal window.</p>
<p>Protect this key as if it unlocks your front door. In many ways, it
does.</p>
</div>
</div>
</div>
<p>Regardless of the software or operating system you use,
<em>please</em> choose a strong password or passphrase to act as another
layer of protection for your private SSH key.</p>
<div id="considerations-for-ssh-key-passwords" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="considerations-for-ssh-key-passwords" class="callout-inner">
<h3 class="callout-title">Considerations for SSH Key Passwords</h3>
<div class="callout-content">
<p>When prompted, enter a strong password that you will remember. There
are two common approaches to this:</p>
<ol style="list-style-type: decimal">
<li>Create a memorable passphrase with some punctuation and
number-for-letter substitutions, 32 characters or longer. Street
addresses work well; just be careful of social engineering or public
records attacks.</li>
<li>Use a password manager and its built-in password generator with all
character classes, 25 characters or longer. <a href="https://keepass.info" class="external-link">KeePass</a> and <a href="https://bitwarden.com" class="external-link">BitWarden</a> are two good options.</li>
<li>Nothing is <em>less</em> secure than a private key with no password.
If you skipped password entry by accident, go back and generate a new
key pair <em>with</em> a strong password.</li>
</ol>
</div>
</div>
</div>
<div class="section level4">
<h4 id="ssh-keys-on-linux-mac-mobaxterm-and-windows-subsystem-for-linux">SSH Keys on Linux, Mac, MobaXterm, and Windows Subsystem for
Linux<a class="anchor" aria-label="anchor" href="#ssh-keys-on-linux-mac-mobaxterm-and-windows-subsystem-for-linux"></a>
</h4>
<p>Once you have opened a terminal, check for existing SSH keys and
filenames since existing SSH keys are overwritten.</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="ex">{{</span> site.local.prompt }} ls ~/.ssh/</span></code></pre>
</div>
<p>If <code>~/.ssh/id_ed25519</code> already exists, you will need to
specify a different name for the new key-pair.</p>
<p>Generate a new public-private key pair using the following command,
which will produce a stronger key than the <code>ssh-keygen</code>
default by invoking these flags:</p>
<ul>
<li>
<code>-a</code> (default is 16): number of rounds of passphrase
derivation; increase to slow down brute force attacks.</li>
<li>
<code>-t</code> (default is <a href="https://en.wikipedia.org/wiki/RSA_(cryptosystem)" class="external-link">rsa</a>):
specify the “type” or cryptographic algorithm. <code>ed25519</code>
specifies <a href="https://en.wikipedia.org/wiki/EdDSA" class="external-link">EdDSA</a> with a
256-bit key; it is faster than RSA with a comparable strength.</li>
<li>
<code>-f</code> (default is /home/user/.ssh/id_algorithm): filename
to store your private key. The public key filename will be identical,
with a <code>.pub</code> extension added.</li>
</ul>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="ex">{{</span> site.local.prompt }} ssh-keygen <span class="at">-a</span> 100 <span class="at">-f</span> ~/.ssh/id_ed25519 <span class="at">-t</span> ed25519</span></code></pre>
</div>
<p>When prompted, enter a strong password with the <a href="#considerations-for-ssh-key-passwords">above considerations in
mind</a>. Note that the terminal will not appear to change while you
type the password: this is deliberate, for your security. You will be
prompted to type it again, so don’t worry too much about typos.</p>
<p>Take a look in <code>~/.ssh</code> (use <code>ls ~/.ssh</code>). You
should see two new files:</p>
<ul>
<li>your private key (<code>~/.ssh/id_ed25519</code>): <em>do not share
with anyone!</em>
</li>
<li>the shareable public key (<code>~/.ssh/id_ed25519.pub</code>): if a
system administrator asks for a key, this is the one to send. It is also
safe to upload to websites such as GitHub: it is meant to be seen.</li>
</ul>
<div id="use-rsa-for-older-systems" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="use-rsa-for-older-systems" class="callout-inner">
<h3 class="callout-title">Use RSA for Older Systems</h3>
<div class="callout-content">
<p>If key generation failed because ed25519 is not available, try using
the older (but still strong and trustworthy) <a href="https://en.wikipedia.org/wiki/RSA_(cryptosystem)" class="external-link">RSA</a>
cryptosystem. Again, first check for an existing key:</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="ex">{{</span> site.local.prompt }} ls ~/.ssh/</span></code></pre>
</div>
<p>If <code>~/.ssh/id_rsa</code> already exists, you will need to
specify choose a different name for the new key-pair. Generate it as
above, with the following extra flags:</p>
<ul>
<li>
<code>-b</code> sets the number of bits in the key. The default is
2048. EdDSA uses a fixed key length, so this flag would have no
effect.</li>
<li>
<code>-o</code> (no default): use the OpenSSH key format, rather
than PEM.</li>
</ul>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="ex">{{</span> site.local.prompt }} ssh-keygen <span class="at">-a</span> 100 <span class="at">-b</span> 4096 <span class="at">-f</span> ~/.ssh/id_rsa <span class="at">-o</span> <span class="at">-t</span> rsa</span></code></pre>
</div>
<p>When prompted, enter a strong password with the <a href="#considerations-for-ssh-key-passwords">above considerations in
mind</a>. Take a look in <code>~/.ssh</code> (use
<code>ls ~/.ssh</code>). You should see two new files:</p>
<ul>
<li>your private key (<code>~/.ssh/id_rsa</code>): <em>do not share with
anyone!</em>
</li>
<li>the shareable public key (<code>~/.ssh/id_rsa.pub</code>): if a
system administrator asks for a key, this is the one to send. It is also
safe to upload to websites such as GitHub: it is meant to be seen.</li>
</ul>
</div>
</div>
</div>
</div>
<div class="section level4">
<h4 id="ssh-keys-on-putty">SSH Keys on PuTTY<a class="anchor" aria-label="anchor" href="#ssh-keys-on-putty"></a>
</h4>
<p>If you are using PuTTY on Windows, download and use
<code>puttygen</code> to generate the key pair. See the <a href="https://tartarus.org/~simon/putty-prerel-snapshots/htmldoc/Chapter8.html#pubkey-puttygen" class="external-link">PuTTY
documentation</a> for details.</p>
<ul>
<li>Select <code>EdDSA</code> as the key type.</li>
<li>Select <code>255</code> as the key size or strength.</li>
<li>Click on the “Generate” button.</li>
<li>You do not need to enter a comment.</li>
<li>When prompted, enter a strong password with the <a href="#considerations-for-ssh-key-passwords">above considerations in
mind</a>.</li>
<li>Save the keys in a folder no other users of the system can
read.</li>
</ul>
<p>Take a look in the folder you specified. You should see two new
files:</p>
<ul>
<li>your private key (<code>id_ed25519</code>): <em>do not share with
anyone!</em>
</li>
<li>the shareable public key (<code>id_ed25519.pub</code>): if a system
administrator asks for a key, this is the one to send. It is also safe
to upload to websites such as GitHub: it is meant to be seen.</li>
</ul>
</div>
</div>
<div class="section level3">
<h3 id="ssh-agent-for-easier-key-handling">SSH Agent for Easier Key Handling<a class="anchor" aria-label="anchor" href="#ssh-agent-for-easier-key-handling"></a>
</h3>
<p>An SSH key is only as strong as the password used to unlock it, but
on the other hand, typing out a complex password every time you connect
to a machine is tedious and gets old very fast. This is where the <a href="https://www.ssh.com/academy/ssh/agent" class="external-link">SSH Agent</a> comes in.</p>
<p>Using an SSH Agent, you can type your password for the private key
once, then have the Agent remember it for some number of hours or until
you log off. Unless some nefarious actor has physical access to your
machine, this keeps the password safe, and removes the tedium of
entering the password multiple times.</p>
<p>Just remember your password, because once it expires in the Agent,
you have to type it in again.</p>
<div class="section level4">
<h4 id="ssh-agents-on-linux-macos-and-windows">SSH Agents on Linux, macOS, and Windows<a class="anchor" aria-label="anchor" href="#ssh-agents-on-linux-macos-and-windows"></a>
</h4>
<p>Open your terminal application and check if an agent is running:</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="ex">{{</span> site.local.prompt }} ssh-add <span class="at">-l</span></span></code></pre>
</div>
<ul>
<li>
<p>If you get an error like this one,</p>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>Error connecting to agent: No such file or directory</code></pre>
</div>
<p>… then you need to launch the agent as follows:</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="ex">{{</span> site.local.prompt }} eval <span class="va">$(</span><span class="fu">ssh-agent</span><span class="va">)</span></span></code></pre>
</div>
</li>
</ul>
<div id="whats-in-a-..." class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="whats-in-a-..." class="callout-inner">
<h3 class="callout-title">What’s in a <code>$(...)</code>?</h3>
<div class="callout-content">
<p>The syntax of this SSH Agent command is unusual, based on what we’ve
seen in the UNIX Shell lesson. This is because the
<code>ssh-agent</code> command creates opens a connection that only you
have access to, and prints a series of shell commands that can be used
to reach it – but <em>does not execute them!</em></p>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="ex">{{</span> site.local.prompt }} ssh-agent</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>SSH_AUTH_SOCK=/tmp/ssh-Zvvga2Y8kQZN/agent.131521;
export SSH_AUTH_SOCK;
SSH_AGENT_PID=131522;
export SSH_AGENT_PID;
echo Agent pid 131522;</code></pre>
</div>
<p>The <code>eval</code> command interprets this text output as commands
and allows you to access the SSH Agent connection you just created.</p>
<p>You could run each line of the <code>ssh-agent</code> output
yourself, and achieve the same result. Using <code>eval</code> just
makes this easier.</p>
</div>
</div>
</div>
<ul>
<li>Otherwise, your agent is already running: don’t mess with it.</li>
</ul>
<p>Add your key to the agent, with session expiration after 8 hours:</p>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="ex">{{</span> site.local.prompt }} ssh-add <span class="at">-t</span> 8h ~/.ssh/id_ed25519</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Enter passphrase for .ssh/id_ed25519:
Identity added: .ssh/id_ed25519
Lifetime set to 86400 seconds</code></pre>
</div>
<p>For the duration (8 hours), whenever you use that key, the SSH Agent
will provide the key on your behalf without you having to type a single
keystroke.</p>
</div>
<div class="section level4">
<h4 id="ssh-agent-on-putty">SSH Agent on PuTTY<a class="anchor" aria-label="anchor" href="#ssh-agent-on-putty"></a>
</h4>
<p>If you are using PuTTY on Windows, download and use
<code>pageant</code> as the SSH agent. See the <a href="https://tartarus.org/~simon/putty-prerel-snapshots/htmldoc/Chapter9.html#pageant" class="external-link">PuTTY
documentation</a>.</p>
</div>
</div>
<div class="section level3">
<h3 id="transfer-your-public-key">Transfer Your Public Key<a class="anchor" aria-label="anchor" href="#transfer-your-public-key"></a>
</h3>
<p>{% if site.remote.portal %} Visit <a href="../%7B%7B%20site.remote.portal%20%7D%7D">{{ site.remote.portal }}</a>
to upload your SSH public key. (Remember, it’s the one ending in
<code>.pub</code>!)</p>
<p>{% else %} Use the <strong>s</strong>ecure
<strong>c</strong>o<strong>p</strong>y tool to send your public key to
the cluster.</p>
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="ex">{{</span> site.local.prompt }} scp ~/.ssh/id_ed25519.pub {{ site.remote.user }}@{{ site.remote.login }}:~/</span></code></pre>
</div>
<p>{% endif %}</p>
</div>
</section><section><h2 class="section-heading" id="log-in-to-the-cluster">Log In to the Cluster<a class="anchor" aria-label="anchor" href="#log-in-to-the-cluster"></a>
</h2>
<hr class="half-width">
<p>Go ahead and open your terminal or graphical SSH client, then log in
to the cluster. Replace <code>{{ site.remote.user }}</code> with your
username or the one supplied by the instructors.</p>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="ex">{{</span> site.local.prompt }} ssh {{ site.remote.user }}@{{ site.remote.login }}</span></code></pre>
</div>
<p>You may be asked for your password. Watch out: the characters you
type after the password prompt are not displayed on the screen. Normal
output will resume once you press <code>Enter</code>.</p>
<p>You may have noticed that the prompt changed when you logged into the
remote system using the terminal (if you logged in using PuTTY this will
not apply because it does not offer a local terminal). This change is
important because it can help you distinguish on which system the
commands you type will be run when you pass them into the terminal. This
change is also a small complication that we will need to navigate
throughout the workshop. Exactly what is displayed as the prompt (which
conventionally ends in <code>$</code>) in the terminal when it is
connected to the local system and the remote system will typically be
different for every user. We still need to indicate which system we are
entering commands on though so we will adopt the following
convention:</p>
<ul>
<li>
<code>{{ site.local.prompt }}</code> when the command is to be
entered on a terminal connected to your local computer</li>
<li>
<code>{{ site.remote.prompt }}</code> when the command is to be
entered on a terminal connected to the remote system</li>
<li>
<code>$</code> when it really doesn’t matter which system the
terminal is connected to.</li>
</ul></section><section><h2 class="section-heading" id="looking-around-your-remote-home">Looking Around Your Remote Home<a class="anchor" aria-label="anchor" href="#looking-around-your-remote-home"></a>
</h2>
<hr class="half-width">
<p>Very often, many users are tempted to think of a high-performance
computing installation as one giant, magical machine. Sometimes, people
will assume that the computer they’ve logged onto is the entire
computing cluster. So what’s really happening? What computer have we
logged on to? The name of the current computer we are logged onto can be
checked with the <code>hostname</code> command. (You may also notice
that the current hostname is also part of our prompt!)</p>
<div class="codewrapper sourceCode" id="cb14">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="ex">{{</span> site.remote.prompt }} hostname</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="op">{</span><span class="op">{</span> <span class="va">site.remote.host</span> <span class="op">}</span><span class="op">}</span></span></code></pre>
</div>
<p>So, we’re definitely on the remote machine. Next, let’s find out
where we are by running <code>pwd</code> to <strong>p</strong>rint the
<strong>w</strong>orking <strong>d</strong>irectory.</p>
<div class="codewrapper sourceCode" id="cb16">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a><span class="ex">{{</span> site.remote.prompt }} pwd</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="op">{</span><span class="op">{</span> <span class="va">site.remote.homedir</span> <span class="op">}</span><span class="op">}</span><span class="op">/</span><span class="op">{</span><span class="op">{</span> <span class="va">site.remote.user</span> <span class="op">}</span><span class="op">}</span></span></code></pre>
</div>
<p>Great, we know where we are! Let’s see what’s in our current
directory:</p>
<div class="codewrapper sourceCode" id="cb18">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a><span class="ex">{{</span> site.remote.prompt }} ls</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">id_ed25519.pub</span></span></code></pre>
</div>
<p>The system administrators may have configured your home directory
with some helpful files, folders, and links (shortcuts) to space
reserved for you on other filesystems. If they did not, your home
directory may appear empty. To double-check, include hidden files in
your directory listing:</p>
<div class="codewrapper sourceCode" id="cb20">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb20-1"><a href="#cb20-1" tabindex="-1"></a><span class="ex">{{</span> site.remote.prompt }} ls <span class="at">-a</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>  .            .bashrc           id_ed25519.pub
  ..           .ssh</code></pre>
</div>
<p>In the first column, <code>.</code> is a reference to the current
directory and <code>..</code> a reference to its parent
(<code>{{ site.remote.homedir }}</code>). You may or may not see the
other files, or files like them: <code>.bashrc</code> is a shell
configuration file, which you can edit with your preferences; and
<code>.ssh</code> is a directory storing SSH keys and a record of
authorized connections.</p>
<p>{% unless site.remote.portal %}</p>
<div class="section level3">
<h3 id="install-your-ssh-key">Install Your SSH Key<a class="anchor" aria-label="anchor" href="#install-your-ssh-key"></a>
</h3>
<div id="there-may-be-a-better-way" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="there-may-be-a-better-way" class="callout-inner">
<h3 class="callout-title">There May Be a Better Way</h3>
<div class="callout-content">
<p>Policies and practices for handling SSH keys vary between HPC
clusters: follow any guidance provided by the cluster administrators or
documentation. In particular, if there is an online portal for managing
SSH keys, use that instead of the directions outlined here.</p>
</div>
</div>
</div>
<p>If you transferred your SSH public key with <code>scp</code>, you
should see <code>id_ed25519.pub</code> in your home directory. To
“install” this key, it must be listed in a file named
<code>authorized_keys</code> under the <code>.ssh</code> folder.</p>
<p>If the <code>.ssh</code> folder was not listed above, then it does
not yet exist: create it.</p>
<div class="codewrapper sourceCode" id="cb22">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a><span class="ex">{{</span> site.remote.prompt }} mkdir ~/.ssh</span></code></pre>
</div>
<p>Now, use <code>cat</code> to print your public key, but redirect the
output, appending it to the <code>authorized_keys</code> file:</p>
<div class="codewrapper sourceCode" id="cb23">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb23-1"><a href="#cb23-1" tabindex="-1"></a><span class="ex">{{</span> site.remote.prompt }} cat ~/id_ed25519.pub <span class="op">&gt;&gt;</span> ~/.ssh/authorized_keys</span></code></pre>
</div>
<p>That’s all! Disconnect, then try to log back into the remote: if your
key and agent have been configured correctly, you should not be prompted
for the password for your SSH key.</p>
<div class="codewrapper sourceCode" id="cb24">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb24-1"><a href="#cb24-1" tabindex="-1"></a><span class="ex">{{</span> site.remote.prompt }} logout</span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb25">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb25-1"><a href="#cb25-1" tabindex="-1"></a><span class="ex">{{</span> site.local.prompt }} ssh {{ site.remote.user }}@{{ site.remote.login }}</span></code></pre>
</div>
<p>{% endunless %}</p>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul>
<li>“An HPC system is a set of networked machines.”</li>
<li>“HPC systems typically provide login nodes and a set of worker
nodes.”</li>
<li>“The resources found on independent (worker) nodes can vary in
volume and type (amount of RAM, processor architecture, availability of
network mounted filesystems, etc.).”</li>
<li>“Files saved on one node are available on all nodes.”</li>
</ul>
</div>
</div>
</div>
<p>{% include links.md %}</p>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</div>
</section></section><section id="aio-12-cluster"><p>Content from <a href="12-cluster.html">Exploring Remote Resources</a></p>
<hr>
<p>Last updated on 2025-03-17 |

        <a href="https://github.com/carpentries-incubator/hpc-intro/edit/main/episodes/12-cluster.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Estimated time: <i aria-hidden="true" data-feather="clock"></i> 35 minutes</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>“How does my local computer compare to the remote systems?”</li>
<li>“How does the login node compare to the compute nodes?”</li>
<li>“Are all compute nodes alike?”</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>“Survey system resources using <code>nproc</code>,
<code>free</code>, and the queuing system”</li>
<li>“Compare &amp; contrast resources on the local machine, login node,
and worker nodes”</li>
<li>“Learn about the various filesystems on the cluster using
<code>df</code>”</li>
<li>“Find out <code>who</code> else is logged in”</li>
<li>“Assess the number of idle and occupied nodes”</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="look-around-the-remote-system">Look Around the Remote System<a class="anchor" aria-label="anchor" href="#look-around-the-remote-system"></a>
</h2>
<hr class="half-width">
<p>If you have not already connected to {{ site.remote.name }}, please
do so now:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="ex">{{</span> site.local.prompt }}  ssh {{ site.remote.user }}@{{ site.remote.login }}</span></code></pre>
</div>
<p>Take a look at your home directory on the remote system:</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="ex">{{</span> site.remote.prompt }} ls</span></code></pre>
</div>
<div id="whats-different-between-your-machine-and-the-remote" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="whats-different-between-your-machine-and-the-remote" class="callout-inner">
<h3 class="callout-title">What’s different between your machine and the remote?</h3>
<div class="callout-content">
<p>Open a second terminal window on your local computer and run the
<code>ls</code> command (without logging in to {{ site.remote.name }}).
What differences do you see?</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Show me the solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" data-bs-parent="#accordionSolution1" aria-labelledby="headingSolution1">
<div class="accordion-body">
<p>You would likely see something more like this:</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="ex">{{</span> site.local.prompt }} ls</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Applications Documents    Library      Music        Public
Desktop      Downloads    Movies       Pictures</code></pre>
</div>
<p>The remote computer’s home directory shares almost nothing in common
with the local computer: they are completely separate systems!</p>
</div>
</div>
</div>
</div>
<p>Most high-performance computing systems run the Linux operating
system, which is built around the UNIX <a href="https://en.wikipedia.org/wiki/Filesystem_Hierarchy_Standard" class="external-link">Filesystem
Hierarchy Standard</a>. Instead of having a separate root for each hard
drive or storage medium, all files and devices are anchored to the
“root” directory, which is <code>/</code>:</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="ex">{{</span> site.remote.prompt }} ls /</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>bin   etc   lib64  proc  sbin     sys  var
boot  {{ site.remote.homedir | replace: "/", "" }}  mnt    root  scratch  tmp  working
dev   lib   opt    run   srv      usr</code></pre>
</div>
<p>The “{{ site.remote.homedir | replace:”/“,”” }}” directory is the one
where we generally want to keep all of our files. Other folders on a
UNIX OS contain system files and change as you install new software or
upgrade your OS.</p>
<div id="using-hpc-filesystems" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="using-hpc-filesystems" class="callout-inner">
<h3 class="callout-title">Using HPC filesystems</h3>
<div class="callout-content">
<p>On HPC systems, you have a number of places where you can store your
files. These differ in both the amount of space allocated and whether or
not they are backed up.</p>
<ul>
<li>
<strong>Home</strong> – often a <em>network filesystem</em>, data
stored here is available throughout the HPC system, and often backed up
periodically. Files stored here are typically slower to access, the data
is actually stored on another computer and is being transmitted and made
available over the network!</li>
<li>
<strong>Scratch</strong> – typically faster than the networked Home
directory, but not usually backed up, and should not be used for long
term storage.</li>
<li>
<strong>Work</strong> – sometimes provided as an alternative to
Scratch space, Work is a fast file system accessed over the network.
Typically, this will have higher performance than your home directory,
but lower performance than Scratch; it may not be backed up. It differs
from Scratch space in that files in a work file system are not
automatically deleted for you: you must manage the space yourself.</li>
</ul>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="nodes">Nodes<a class="anchor" aria-label="anchor" href="#nodes"></a>
</h2>
<hr class="half-width">
<p>Individual computers that compose a cluster are typically called
<em>nodes</em> (although you will also hear people call them
<em>servers</em>, <em>computers</em> and <em>machines</em>). On a
cluster, there are different types of nodes for different types of
tasks. The node where you are right now is called the <em>login
node</em>, <em>head node</em>, <em>landing pad</em>, or <em>submit
node</em>. A login node serves as an access point to the cluster.</p>
<p>As a gateway, the login node should not be used for time-consuming or
resource-intensive tasks. You should be alert to this, and check with
your site’s operators or documentation for details of what is and isn’t
allowed. It is well suited for uploading and downloading files, setting
up software, and running tests. Generally speaking, in these lessons, we
will avoid running jobs on the login node.</p>
<p>Who else is logged in to the login node?</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="ex">{{</span> site.remote.prompt }} who</span></code></pre>
</div>
<p>This may show only your user ID, but there are likely several other
people (including fellow learners) connected right now.</p>
<div id="dedicated-transfer-nodes" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="dedicated-transfer-nodes" class="callout-inner">
<h3 class="callout-title">Dedicated Transfer Nodes</h3>
<div class="callout-content">
<p>If you want to transfer larger amounts of data to or from the
cluster, some systems offer dedicated nodes for data transfers only. The
motivation for this lies in the fact that larger data transfers should
not obstruct operation of the login node for anybody else. Check with
your cluster’s documentation or its support team if such a transfer node
is available. As a rule of thumb, consider all transfers of a volume
larger than 500 MB to 1 GB as large. But these numbers change, e.g.,
depending on the network connection of yourself and of your cluster or
other factors.</p>
</div>
</div>
</div>
<p>The real work on a cluster gets done by the <em>compute</em> (or
<em>worker</em>) <em>nodes</em>. compute nodes come in many shapes and
sizes, but generally are dedicated to long or hard tasks that require a
lot of computational resources.</p>
<p>All interaction with the compute nodes is handled by a specialized
piece of software called a scheduler (the scheduler used in this lesson
is called {{ site.sched.name }}). We’ll learn more about how to use the
scheduler to submit jobs next, but for now, it can also tell us more
information about the compute nodes.</p>
<p>For example, we can view all of the compute nodes by running the
command <code>{{ site.sched.info }}</code>.</p>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="ex">{{</span> site.remote.prompt }} {{ site.sched.info }}</span></code></pre>
</div>
<p>{% include {{ site.snippets }}/cluster/queue-info.snip %}</p>
<p>A lot of the nodes are busy running work for other users: we are not
alone here!</p>
<p>There are also specialized machines used for managing disk storage,
user authentication, and other infrastructure-related tasks. Although we
do not typically logon to or interact with these machines directly, they
enable a number of key features like ensuring our user account and files
are available throughout the HPC system.</p>
</section><section><h2 class="section-heading" id="whats-in-a-node">What’s in a Node?<a class="anchor" aria-label="anchor" href="#whats-in-a-node"></a>
</h2>
<hr class="half-width">
<p>All of the nodes in an HPC system have the same components as your
own laptop or desktop: <em>CPUs</em> (sometimes also called
<em>processors</em> or <em>cores</em>), <em>memory</em> (or
<em>RAM</em>), and <em>disk</em> space. CPUs are a computer’s tool for
actually running programs and calculations. Information about a current
task is stored in the computer’s memory. Disk refers to all storage that
can be accessed like a file system. This is generally storage that can
hold data permanently, i.e. data is still there even if the computer has
been restarted. While this storage can be local (a hard drive installed
inside of it), it is more common for nodes to connect to a shared,
remote fileserver or cluster of servers.</p>
<p>{% include figure.html url=“” max-width=“40%”
file=“/fig/node_anatomy.png” alt=“Node anatomy” caption=“” %}</p>
<div id="explore-your-computer" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="explore-your-computer" class="callout-inner">
<h3 class="callout-title">Explore Your Computer</h3>
<div class="callout-content">
<p>Try to find out the number of CPUs and amount of memory available on
your personal computer.</p>
<p>Note that, if you’re logged in to the remote computer cluster, you
need to log out first. To do so, type <code>Ctrl+d</code> or
<code>exit</code>:</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="ex">{{</span> site.remote.prompt }} exit</span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a><span class="ex">{{</span> site.local.prompt }}</span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2"> Show me the solution </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" data-bs-parent="#accordionSolution2" aria-labelledby="headingSolution2">
<div class="accordion-body">
<p>There are several ways to do this. Most operating systems have a
graphical system monitor, like the Windows Task Manager. More detailed
information can be found on the command line:</p>
<ul>
<li>
<p>Run system utilities</p>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="ex">{{</span> site.local.prompt }} nproc <span class="at">--all</span></span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a><span class="ex">{{</span> site.local.prompt }} free <span class="at">-m</span></span></code></pre>
</div>
</li>
<li>
<p>Read from <code>/proc</code></p>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="ex">{{</span> site.local.prompt }} cat /proc/cpuinfo</span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a><span class="ex">{{</span> site.local.prompt }} cat /proc/meminfo</span></code></pre>
</div>
</li>
<li>
<p>Run system monitor</p>
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="ex">{{</span> site.local.prompt }} htop</span></code></pre>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div id="explore-the-login-node" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="explore-the-login-node" class="callout-inner">
<h3 class="callout-title">Explore the Login Node</h3>
<div class="callout-content">
<p>Now compare the resources of your computer with those of the login
node.</p>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3"> Show me the solution </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" data-bs-parent="#accordionSolution3" aria-labelledby="headingSolution3">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="ex">{{</span> site.local.prompt }} ssh {{ site.remote.user }}@{{ site.remote.login }}</span>
<span id="cb13-2"><a href="#cb13-2" tabindex="-1"></a><span class="ex">{{</span> site.remote.prompt }} nproc <span class="at">--all</span></span>
<span id="cb13-3"><a href="#cb13-3" tabindex="-1"></a><span class="ex">{{</span> site.remote.prompt }} free <span class="at">-m</span></span></code></pre>
</div>
<p>You can get more information about the processors using
<code>lscpu</code>, and a lot of detail about the memory by reading the
file <code>/proc/meminfo</code>:</p>
<div class="codewrapper sourceCode" id="cb14">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="ex">{{</span> site.remote.prompt }} less /proc/meminfo</span></code></pre>
</div>
<p>You can also explore the available filesystems using <code>df</code>
to show <strong>d</strong>isk <strong>f</strong>ree space. The
<code>-h</code> flag renders the sizes in a human-friendly format, i.e.,
GB instead of B. The <strong>t</strong>ype flag <code>-T</code> shows
what kind of filesystem each resource is.</p>
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a><span class="ex">{{</span> site.remote.prompt }} df <span class="at">-Th</span></span></code></pre>
</div>
<div id="different-results-from-df" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="different-results-from-df" class="callout-inner">
<h3 class="callout-title">Different results from <code>df</code>
</h3>
<div class="callout-content">
<ul>
<li>The local filesystems (ext, tmp, xfs, zfs) will depend on whether
you’re on the same login node (or compute node, later on).</li>
<li>Networked filesystems (beegfs, cifs, gpfs, nfs, pvfs) will be
similar – but may include {{ site.remote.user }}, depending on how it is
<a href="https://en.wikipedia.org/wiki/Mount_(computing)" class="external-link">mounted</a>.</li>
</ul>
</div>
</div>
</div>
<div id="shared-filesystems" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="shared-filesystems" class="callout-inner">
<h3 class="callout-title">Shared Filesystems</h3>
<div class="callout-content">
<p>This is an important point to remember: files saved on one node
(computer) are often available everywhere on the cluster!</p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<p>{% include {{ site.snippets }}/cluster/specific-node-info.snip %}</p>
<div id="compare-your-computer-the-login-node-and-the-compute-node" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="compare-your-computer-the-login-node-and-the-compute-node" class="callout-inner">
<h3 class="callout-title">Compare Your Computer, the Login Node and the Compute Node</h3>
<div class="callout-content">
<p>Compare your laptop’s number of processors and memory with the
numbers you see on the cluster login node and compute node. What
implications do you think the differences might have on running your
research work on the different systems and nodes?</p>
<div id="accordionSolution4" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution4" aria-expanded="false" aria-controls="collapseSolution4">
  <h4 class="accordion-header" id="headingSolution4"> Show me the solution </h4>
</button>
<div id="collapseSolution4" class="accordion-collapse collapse" data-bs-parent="#accordionSolution4" aria-labelledby="headingSolution4">
<div class="accordion-body">
<p>Compute nodes are usually built with processors that have <em>higher
core-counts</em> than the login node or personal computers in order to
support highly parallel tasks. Compute nodes usually also have
substantially <em>more memory (RAM)</em> installed than a personal
computer. More cores tends to help jobs that depend on some work that is
easy to perform in <em>parallel</em>, and more, faster memory is key for
large or <em>complex numerical tasks</em>.</p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="differences-between-nodes" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="differences-between-nodes" class="callout-inner">
<h3 class="callout-title">Differences Between Nodes</h3>
<div class="callout-content">
<p>Many HPC clusters have a variety of nodes optimized for particular
workloads. Some nodes may have larger amount of memory, or specialized
resources such as Graphics Processing Units (GPUs or “video cards”).</p>
</div>
</div>
</div>
<p>With all of this in mind, we will now cover how to talk to the
cluster’s scheduler, and use it to start running our scripts and
programs!</p>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul>
<li>“An HPC system is a set of networked machines.”</li>
<li>“HPC systems typically provide login nodes and a set of compute
nodes.”</li>
<li>“The resources found on independent (worker) nodes can vary in
volume and type (amount of RAM, processor architecture, availability of
network mounted filesystems, etc.).”</li>
<li>“Files saved on shared storage are available on all nodes.”</li>
<li>“The login node is a shared machine: be considerate of other
users.”</li>
</ul>
</div>
</div>
</div>
<p>{% include links.md %}</p>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</section></section><section id="aio-13-scheduler"><p>Content from <a href="13-scheduler.html">Scheduler Fundamentals</a></p>
<hr>
<p>Last updated on 2025-03-17 |

        <a href="https://github.com/carpentries-incubator/hpc-intro/edit/main/episodes/13-scheduler.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Estimated time: <i aria-hidden="true" data-feather="clock"></i> 75 minutes</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>“What is a scheduler and why does a cluster need one?”</li>
<li>“How do I launch a program to run on a compute node in the
cluster?”</li>
<li>“How do I capture the output of a program that is run on a node in
the cluster?”</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>“Submit a simple script to the cluster.”</li>
<li>“Monitor the execution of jobs using command line tools.”</li>
<li>“Inspect the output and error files of your jobs.”</li>
<li>“Find the right place to put large datasets on the cluster.”</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="job-scheduler">Job Scheduler<a class="anchor" aria-label="anchor" href="#job-scheduler"></a>
</h2>
<hr class="half-width">
<p>An HPC system might have thousands of nodes and thousands of users.
How do we decide who gets what and when? How do we ensure that a task is
run with the resources it needs? This job is handled by a special piece
of software called the <em>scheduler</em>. On an HPC system, the
scheduler manages which jobs run where and when.</p>
<p>The following illustration compares these tasks of a job scheduler to
a waiter in a restaurant. If you can relate to an instance where you had
to wait for a while in a queue to get in to a popular restaurant, then
you may now understand why sometimes your job do not start instantly as
in your laptop.</p>
<p>{% include figure.html max-width=“75%” caption=“”
file=“/fig/restaurant_queue_manager.svg” alt=“Compare a job scheduler to
a waiter in a restaurant” %}</p>
<p>The scheduler used in this lesson is {{ site.sched.name }}. Although
{{ site.sched.name }} is not used everywhere, running jobs is quite
similar regardless of what software is being used. The exact syntax
might change, but the concepts remain the same.</p>
</section><section><h2 class="section-heading" id="running-a-batch-job">Running a Batch Job<a class="anchor" aria-label="anchor" href="#running-a-batch-job"></a>
</h2>
<hr class="half-width">
<p>The most basic use of the scheduler is to run a command
non-interactively. Any command (or series of commands) that you want to
run on the cluster is called a <em>job</em>, and the process of using a
scheduler to run the job is called <em>batch job submission</em>.</p>
<p>In this case, the job we want to run is a shell script – essentially
a text file containing a list of UNIX commands to be executed in a
sequential manner. Our shell script will have three parts:</p>
<ul>
<li>On the very first line, add
<code>{{ site.remote.bash_shebang }}</code>. The <code>#!</code>
(pronounced “hash-bang” or “shebang”) tells the computer what program is
meant to process the contents of this file. In this case, we are telling
it that the commands that follow are written for the command-line shell
(what we’ve been doing everything in so far).</li>
<li>Anywhere below the first line, we’ll add an <code>echo</code>
command with a friendly greeting. When run, the shell script will print
whatever comes after <code>echo</code> in the terminal.
<ul>
<li>
<code>echo -n</code> will print everything that follows,
<em>without</em> ending the line by printing the new-line
character.</li>
</ul>
</li>
<li>On the last line, we’ll invoke the <code>hostname</code> command,
which will print the name of the machine the script is run on.</li>
</ul>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="ex">{{</span> site.remote.prompt }} nano example-job.sh</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>{{ site.remote.bash_shebang }}

echo -n "This script is running on "
hostname</code></pre>
</div>
<div id="creating-our-test-job" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="creating-our-test-job" class="callout-inner">
<h3 class="callout-title">Creating Our Test Job</h3>
<div class="callout-content">
<p>Run the script. Does it execute on the cluster or just our login
node?</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Show me the solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" data-bs-parent="#accordionSolution1" aria-labelledby="headingSolution1">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="ex">{{</span> site.remote.prompt }} bash example-job.sh</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>This script is running on {{ site.remote.host }}</code></pre>
</div>
</div>
</div>
</div>
</div>
<p>This script ran on the login node, but we want to take advantage of
the compute nodes: we need the scheduler to queue up
<code>example-job.sh</code> to run on a compute node.</p>
<p>To submit this task to the scheduler, we use the
<code>{{ site.sched.submit.name }}</code> command. This creates a
<em>job</em> which will run the <em>script</em> when <em>dispatched</em>
to a compute node which the queuing system has identified as being
available to perform the work.</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="ex">{{</span> site.remote.prompt }} {{ site.sched.submit.name }} {% if site.sched.submit.options != <span class="st">''</span> %}{{ site.sched.submit.options }} {% endif %}example-job.sh</span></code></pre>
</div>
<p>{% include {{ site.snippets }}/scheduler/basic-job-script.snip %}</p>
<p>And that’s all we need to do to submit a job. Our work is done – now
the scheduler takes over and tries to run the job for us. While the job
is waiting to run, it goes into a list of jobs called the
<em>queue</em>. To check on our job’s status, we check the queue using
the command
<code>{{ site.sched.status }} {{ site.sched.flag.user }}</code>.</p>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="ex">{{</span> site.remote.prompt }} {{ site.sched.status }} {{ site.sched.flag.user }}</span></code></pre>
</div>
<p>{% include {{ site.snippets }}/scheduler/basic-job-status.snip %}</p>
<div id="wheres-the-output" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="wheres-the-output" class="callout-inner">
<h3 class="callout-title">Where’s the Output?</h3>
<div class="callout-content">
<p>On the login node, this script printed output to the terminal – but
now, when <code>{{ site.sched.status }}</code> shows the job has
finished, nothing was printed to the terminal.</p>
<p>Cluster job output is typically redirected to a file in the directory
you launched it from. Use <code>ls</code> to find and <code>cat</code>
to read the file.</p>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="customising-a-job">Customising a Job<a class="anchor" aria-label="anchor" href="#customising-a-job"></a>
</h2>
<hr class="half-width">
<p>The job we just ran used all of the scheduler’s default options. In a
real-world scenario, that’s probably not what we want. The default
options represent a reasonable minimum. Chances are, we will need more
cores, more memory, more time, among other special considerations. To
get access to these resources we must customize our job script.</p>
<p>Comments in UNIX shell scripts (denoted by <code>#</code>) are
typically ignored, but there are exceptions. For instance the special
<code>#!</code> comment at the beginning of scripts specifies what
program should be used to run it (you’ll typically see
<code>{{ site.local.bash_shebang }}</code>). Schedulers like {{
site.sched.name }} also have a special comment used to denote special
scheduler-specific options. Though these comments differ from scheduler
to scheduler, {{ site.sched.name }}’s special comment is
<code>{{ site.sched.comment }}</code>. Anything following the
<code>{{ site.sched.comment }}</code> comment is interpreted as an
instruction to the scheduler.</p>
<p>Let’s illustrate this by example. By default, a job’s name is the
name of the script, but the <code>{{ site.sched.flag.name }}</code>
option can be used to change the name of a job. Add an option to the
script:</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="ex">{{</span> site.remote.prompt }} cat example-job.sh</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>{{ site.remote.bash_shebang }}
{{ site.sched.comment }} {{ site.sched.flag.name }} hello-world

echo -n "This script is running on "
hostname</code></pre>
</div>
<p>Submit the job and monitor its status:</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="ex">{{</span> site.remote.prompt }} {{ site.sched.submit.name }} {% if site.sched.submit.options != <span class="st">''</span> %}{{ site.sched.submit.options }} {% endif %}example-job.sh</span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a><span class="ex">{{</span> site.remote.prompt }} {{ site.sched.status }} {{ site.sched.flag.user }}</span></code></pre>
</div>
<p>{% include {{ site.snippets }}/scheduler/job-with-name-status.snip
%}</p>
<p>Fantastic, we’ve successfully changed the name of our job!</p>
<div class="section level3">
<h3 id="resource-requests">Resource Requests<a class="anchor" aria-label="anchor" href="#resource-requests"></a>
</h3>
<p>What about more important changes, such as the number of cores and
memory for our jobs? One thing that is absolutely critical when working
on an HPC system is specifying the resources required to run a job. This
allows the scheduler to find the right time and place to schedule our
job. If you do not specify requirements (such as the amount of time you
need), you will likely be stuck with your site’s default resources,
which is probably not what you want.</p>
<p>The following are several key resource requests:</p>
<p>{% include {{ site.snippets }}/scheduler/option-flags-list.snip
%}</p>
<p>Note that just <em>requesting</em> these resources does not make your
job run faster, nor does it necessarily mean that you will consume all
of these resources. It only means that these are made available to you.
Your job may end up using less memory, or less time, or fewer nodes than
you have requested, and it will still run.</p>
<p>It’s best if your requests accurately reflect your job’s
requirements. We’ll talk more about how to make sure that you’re using
resources effectively in a later episode of this lesson.</p>
<div id="submitting-resource-requests" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="submitting-resource-requests" class="callout-inner">
<h3 class="callout-title">Submitting Resource Requests</h3>
<div class="callout-content">
<p>Modify our <code>hostname</code> script so that it runs for a minute,
then submit a job for it on the cluster.</p>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2"> Show me the solution </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" data-bs-parent="#accordionSolution2" aria-labelledby="headingSolution2">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="ex">{{</span> site.remote.prompt }} cat example-job.sh</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>{{ site.remote.bash_shebang }}
{{ site.sched.comment }} {{ site.sched.flag.time }} 00:01 # timeout in HH:MM
echo -n "This script is running on "
sleep 20 # time in seconds
hostname</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="ex">{{</span> site.remote.prompt }} {{ site.sched.submit.name }} {% if site.sched.submit.options != <span class="st">''</span> %}{{ site.d.submit.options }} {% endif %}example-job.sh</span></code></pre>
</div>
<p>Why are the {{ site.sched.name }} runtime and <code>sleep</code> time
not identical?</p>
</div>
</div>
</div>
</div>
<p>Resource requests are typically binding. If you exceed them, your job
will be killed. Let’s use wall time as an example. We will request 1
minute of wall time, and attempt to run a job for two minutes.</p>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="ex">{{</span> site.remote.prompt }} cat example-job.sh</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>{{ site.remote.bash_shebang }}
{{ site.sched.comment }} {{ site.sched.flag.name }} long_job
{{ site.sched.comment }} {{ site.sched.flag.time }} 00:01 # timeout in HH:MM

echo "This script is running on ... "
sleep 240 # time in seconds
hostname</code></pre>
</div>
<p>Submit the job and wait for it to finish. Once it is has finished,
check the log file.</p>
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a><span class="ex">{{</span> site.remote.prompt }} {{ site.sched.submit.name }} {% if site.sched.submit.options != <span class="st">''</span> %}{{ site.sched.submit.options }} {% endif %}example-job.sh</span>
<span id="cb15-2"><a href="#cb15-2" tabindex="-1"></a><span class="ex">{{</span> site.remote.prompt }} {{ site.sched.status }} {{ site.sched.flag.user }}</span></code></pre>
</div>
<p>{% include {{ site.snippets }}/scheduler/runtime-exceeded-job.snip
%}</p>
<p>{% include {{ site.snippets }}/scheduler/runtime-exceeded-output.snip
%}</p>
<p>Our job was killed for exceeding the amount of resources it
requested. Although this appears harsh, this is actually a feature.
Strict adherence to resource requests allows the scheduler to find the
best possible place for your jobs. Even more importantly, it ensures
that another user cannot use more resources than they’ve been given. If
another user messes up and accidentally attempts to use all of the cores
or memory on a node, {{ site.sched.name }} will either restrain their
job to the requested resources or kill the job outright. Other jobs on
the node will be unaffected. This means that one user cannot mess up the
experience of others, the only jobs affected by a mistake in scheduling
will be their own.</p>
</div>
</section><section><h2 class="section-heading" id="cancelling-a-job">Cancelling a Job<a class="anchor" aria-label="anchor" href="#cancelling-a-job"></a>
</h2>
<hr class="half-width">
<p>Sometimes we’ll make a mistake and need to cancel a job. This can be
done with the <code>{{ site.sched.del }}</code> command. Let’s submit a
job and then cancel it using its job number (remember to change the
walltime so that it runs long enough for you to cancel it before it is
killed!).</p>
<div class="codewrapper sourceCode" id="cb16">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a><span class="ex">{{</span> site.remote.prompt }} {{ site.sched.submit.name }} {% if site.sched.submit.options != <span class="st">''</span> %}{{ site.sched.submit.options }} {% endif %}example-job.sh</span>
<span id="cb16-2"><a href="#cb16-2" tabindex="-1"></a><span class="ex">{{</span> site.remote.prompt }} {{ site.sched.status }} {{ site.sched.flag.user }}</span></code></pre>
</div>
<p>{% include {{ site.snippets }}/scheduler/terminate-job-begin.snip
%}</p>
<p>Now cancel the job with its job number (printed in your terminal). A
clean return of your command prompt indicates that the request to cancel
the job was successful.</p>
<div class="codewrapper sourceCode" id="cb17">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a><span class="ex">{{</span> site.remote.prompt }} {{site.sched.del }} 38759</span>
<span id="cb17-2"><a href="#cb17-2" tabindex="-1"></a><span class="co"># It might take a minute for the job to disappear from the queue...</span></span>
<span id="cb17-3"><a href="#cb17-3" tabindex="-1"></a><span class="ex">{{</span> site.remote.prompt }} {{ site.sched.status }} {{ site.sched.flag.user }}</span></code></pre>
</div>
<p>{% include {{ site.snippets }}/scheduler/terminate-job-cancel.snip
%}</p>
<p>{% include {{ site.snippets }}/scheduler/terminate-multiple-jobs.snip
%}</p>
</section><section><h2 class="section-heading" id="other-types-of-jobs">Other Types of Jobs<a class="anchor" aria-label="anchor" href="#other-types-of-jobs"></a>
</h2>
<hr class="half-width">
<p>Up to this point, we’ve focused on running jobs in batch mode. {{
site.sched.name }} also provides the ability to start an interactive
session.</p>
<p>There are very frequently tasks that need to be done interactively.
Creating an entire job script might be overkill, but the amount of
resources required is too much for a login node to handle. A good
example of this might be building a genome index for alignment with a
tool like <a href="https://daehwankimlab.github.io/hisat2/" class="external-link">HISAT2</a>.
Fortunately, we can run these types of tasks as a one-off with
<code>{{ site.sched.interactive }}</code>.</p>
<p>{% include {{ site.snippets
}}/scheduler/using-nodes-interactively.snip %}</p>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul>
<li>“The scheduler handles how compute resources are shared between
users.”</li>
<li>“A job is just a shell script.”</li>
<li>“Request <em>slightly</em> more resources than you will need.”</li>
</ul>
</div>
</div>
</div>
<p>{% include links.md %}</p>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</section></section>
</div>
    </main>
</div>
<!-- END  : inst/pkgdown/templates/content-extra.html -->

      </div>
<!--/div.row-->
      		<footer class="row footer mx-md-3"><hr>
<div class="col-md-6">
        <p>This lesson is subject to the <a href="CODE_OF_CONDUCT.html">Code of Conduct</a></p>
        <p>

        <a href="https://github.com/carpentries-incubator/hpc-intro/edit/main/README.md" class="external-link">Edit on GitHub</a>

	
        | <a href="https://github.com/carpentries-incubator/hpc-intro/blob/main/CONTRIBUTING.md" class="external-link">Contributing</a>
        | <a href="https://github.com/carpentries-incubator/hpc-intro/" class="external-link">Source</a></p>
				<p><a href="https://github.com/carpentries-incubator/hpc-intro/blob/main/CITATION.cff" class="external-link">Cite</a> | <a href="mailto:team@carpentries.org">Contact</a> | <a href="https://carpentries.org/about/" class="external-link">About</a></p>
			</div>
			<div class="col-md-6">

        <p>Materials licensed under <a href="LICENSE.html">CC-BY 4.0</a> by the authors</p>

        <p>Template licensed under <a href="https://creativecommons.org/licenses/by-sa/4.0/" class="external-link">CC-BY 4.0</a> by <a href="https://carpentries.org/" class="external-link">The Carpentries</a></p>
        <p>Built with <a href="https://github.com/carpentries/sandpaper/tree/0.16.11" class="external-link">sandpaper (0.16.11)</a>, <a href="https://github.com/carpentries/pegboard/tree/0.7.9" class="external-link">pegboard (0.7.9)</a>, and <a href="https://github.com/carpentries/varnish/tree/1.0.5" class="external-link">varnish (1.0.5)</a></p>
			</div>
		</footer>
</div> <!-- / div.container -->
	<div id="to-top">
		<a href="#top">
      <i class="search-icon" data-feather="arrow-up" role="img" aria-label="Back To Top"></i><br><!-- <span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top --><span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top
		</a>
	</div>
  <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "TrainingMaterial",
  "@id": "https://carpentries-incubator.github.io/hpc-intro/instructor/aio.html",
  "inLanguage": "en",
  "dct:conformsTo": "https://bioschemas.org/profiles/TrainingMaterial/1.0-RELEASE",
  "description": "A Carpentries Lesson teaching foundational data and coding skills to researchers worldwide",
  "keywords": "software, data, lesson, The Carpentries",
  "name": "All in One View",
  "creativeWorkStatus": "active",
  "url": "https://carpentries-incubator.github.io/hpc-intro/instructor/aio.html",
  "identifier": "https://carpentries-incubator.github.io/hpc-intro/instructor/aio.html",
  "dateCreated": "2025-03-17",
  "dateModified": "2025-04-22",
  "datePublished": "2025-04-22"
}

  </script><script>
		feather.replace();
	</script>
</body>
</html><!-- END:   inst/pkgdown/templates/layout.html-->

